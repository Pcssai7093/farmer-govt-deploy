{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/chandra sekhar/Desktop/chandra sekhar imp/bc course/ineuron projects/farmer govt aided schemes/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/chandra sekhar/Desktop/chandra sekhar imp/bc course/ineuron projects/farmer govt aided schemes/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/chandra sekhar/Desktop/chandra sekhar imp/bc course/ineuron projects/farmer govt aided schemes/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import styles from\"../CSS/UserRegister.module.css\";import axios from\"axios\";import{useHistory,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserRegister(){var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),aadharNumber=_useState6[0],setAadharNumber=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),cpassword=_useState10[0],setCpassword=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),registrationError=_useState12[0],setRegistrationError=_useState12[1];//   useEffect(() => {\n//     if (name) console.log(name);\n//   }, [name]);\nfunction handleForm(_x){return _handleForm.apply(this,arguments);}function _handleForm(){_handleForm=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();data={name:name,aadharNumber:aadharNumber,password:password// cpassword: cpassword,\n};setUserData(data);_context.next=5;return axios.post(\"http://localhost:3002/addUser\",data).then(function(res){var userId=res.data;if(userId!=false)history.push(\"/user/home/\".concat(userId));else{setRegistrationError(true);}}).catch(function(err){// console.log(res.data);\n// console.log(err);\n});case 5:case\"end\":return _context.stop();}}},_callee);}));return _handleForm.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.comp),children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-home fa-2x\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.form),children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",method:\"post\",onSubmit:function onSubmit(e){handleForm(e);},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"name\",onChange:function onChange(e){return setName(e.target.value);},placeholder:\"Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"aadharNumber\",id:\"aadharNumber\",onChange:function onChange(e){return setAadharNumber(e.target.value);},placeholder:\"Aadhar Number\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"password\",id:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"Enter Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cpassword\",id:\"cpassword\",onChange:function onChange(e){return setCpassword(e.target.value);},placeholder:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"}),registrationError&&/*#__PURE__*/_jsx(\"div\",{children:\"Entered Adhaar already exists\"})]})})]});}export default UserRegister;","map":{"version":3,"names":["useEffect","useState","styles","axios","useHistory","Link","UserRegister","history","userData","setUserData","name","setName","aadharNumber","setAadharNumber","password","setPassword","cpassword","setCpassword","registrationError","setRegistrationError","handleForm","e","preventDefault","data","post","then","res","userId","push","catch","err","comp","form","target","value"],"sources":["C:/Users/chandra sekhar/Desktop/chandra sekhar imp/bc course/ineuron projects/farmer govt aided schemes/client/src/components/UserRegister.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport styles from \"../CSS/UserRegister.module.css\";\r\nimport axios from \"axios\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nfunction UserRegister() {\r\n  let history = useHistory();\r\n  const [userData, setUserData] = useState({});\r\n  const [name, setName] = useState();\r\n  const [aadharNumber, setAadharNumber] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [cpassword, setCpassword] = useState();\r\n  const [registrationError, setRegistrationError] = useState(false);\r\n\r\n  //   useEffect(() => {\r\n  //     if (name) console.log(name);\r\n  //   }, [name]);\r\n\r\n  async function handleForm(e) {\r\n    e.preventDefault();\r\n    const data = {\r\n      name: name,\r\n      aadharNumber: aadharNumber,\r\n      password: password,\r\n      // cpassword: cpassword,\r\n    };\r\n    setUserData(data);\r\n\r\n    await axios\r\n      .post(\"http://localhost:3002/addUser\", data)\r\n      .then((res) => {\r\n        const userId = res.data;\r\n        if (userId != false) history.push(`/user/home/${userId}`);\r\n        else {\r\n          setRegistrationError(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        // console.log(res.data);\r\n        // console.log(err);\r\n      });\r\n  }\r\n  return (\r\n    <div className={`${styles.comp}`}>\r\n      <Link to=\"/\">\r\n        <i className=\"fa fa-home fa-2x\" aria-hidden=\"true\"></i>\r\n      </Link>\r\n      <div className={`${styles.form}`}>\r\n        <form\r\n          action=\"\"\r\n          method=\"post\"\r\n          onSubmit={(e) => {\r\n            handleForm(e);\r\n          }}\r\n        >\r\n          <h1>Register</h1>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            onChange={(e) => setName(e.target.value)}\r\n            placeholder=\"Name\"\r\n          />\r\n          <br />\r\n\r\n          <input\r\n            type=\"number\"\r\n            name=\"aadharNumber\"\r\n            id=\"aadharNumber\"\r\n            onChange={(e) => setAadharNumber(e.target.value)}\r\n            placeholder=\"Aadhar Number\"\r\n          />\r\n          <br />\r\n\r\n          <input\r\n            type=\"text\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"Enter Password\"\r\n          />\r\n          <br />\r\n\r\n          <input\r\n            type=\"text\"\r\n            name=\"cpassword\"\r\n            id=\"cpassword\"\r\n            onChange={(e) => setCpassword(e.target.value)}\r\n            placeholder=\"Confirm Password\"\r\n          />\r\n          <br />\r\n\r\n          <button type=\"submit\">Submit</button>\r\n          {registrationError && <div>Entered Adhaar already exists</div>}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserRegister;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}