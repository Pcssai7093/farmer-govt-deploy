{"ast":null,"code":"import _slicedToArray from\"C:/Users/chandra sekhar/Desktop/chandra sekhar imp/bc course/ineuron projects/farmer govt deploy folder/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import styles from\"../CSS/Crops.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ApplicationsAdminUI(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),render=_useState4[0],setRender=_useState4[1];useEffect(function(){axios.get(\"/applications\").then(function(res){if(res.data!=false){setData(res.data);}else console.log(\"applications fetch fail\");});},[render]);function handleButton(applicationId){axios.get(\"http://localhost:3002/applicationApprove/\".concat(applicationId)).then(function(res){if(res.data==true){if(render==0)setRender(1);else setRender(0);}});}return/*#__PURE__*/_jsx(\"div\",{className:styles.cont,children:data&&/*#__PURE__*/_jsx(\"div\",{children:data.map(function(x){return/*#__PURE__*/_jsx(\"table\",{className:styles.table,children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"User Id\"}),/*#__PURE__*/_jsx(\"td\",{children:x.user})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Scheme Id\"}),/*#__PURE__*/_jsx(\"td\",{children:x.scheme})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Applied On\"}),/*#__PURE__*/_jsx(\"td\",{children:x.createdAt})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Application Status\"}),/*#__PURE__*/_jsx(\"td\",{children:x.isApproved})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:2,children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleButton(x._id);},children:\"Approve\"})})})]})},x._id);})})});}export default ApplicationsAdminUI;","map":{"version":3,"names":["useState","useEffect","axios","styles","ApplicationsAdminUI","data","setData","render","setRender","get","then","res","console","log","handleButton","applicationId","cont","map","x","table","user","scheme","createdAt","isApproved","_id"],"sources":["C:/Users/chandra sekhar/Desktop/chandra sekhar imp/bc course/ineuron projects/farmer govt deploy folder/server/client/src/components/ApplicationsAdminUI.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport styles from \"../CSS/Crops.module.css\";\r\n\r\nfunction ApplicationsAdminUI() {\r\n  const [data, setData] = useState();\r\n  const [render, setRender] = useState(0);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/applications\").then((res) => {\r\n      if (res.data != false) {\r\n        setData(res.data);\r\n      } else console.log(\"applications fetch fail\");\r\n    });\r\n  }, [render]);\r\n\r\n  function handleButton(applicationId) {\r\n    axios\r\n      .get(`http://localhost:3002/applicationApprove/${applicationId}`)\r\n      .then((res) => {\r\n        if (res.data == true) {\r\n          if (render == 0) setRender(1);\r\n          else setRender(0);\r\n        }\r\n      });\r\n  }\r\n  return (\r\n    <div className={styles.cont}>\r\n      {data && (\r\n        <div>\r\n          {data.map((x) => (\r\n            <table key={x._id} className={styles.table}>\r\n              <tbody>\r\n                <tr>\r\n                  <td>User Id</td>\r\n                  <td>{x.user}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Scheme Id</td>\r\n                  <td>{x.scheme}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Applied On</td>\r\n                  <td>{x.createdAt}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Application Status</td>\r\n                  <td>{x.isApproved}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td colSpan={2}>\r\n                    <button\r\n                      onClick={() => {\r\n                        handleButton(x._id);\r\n                      }}\r\n                    >\r\n                      Approve\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ApplicationsAdminUI;\r\n"],"mappings":"2MAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,yBAAnB,C,wFAEA,QAASC,oBAAT,EAA+B,CAC7B,cAAwBJ,QAAQ,EAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,eAA4BN,QAAQ,CAAC,CAAD,CAApC,yCAAOO,MAAP,eAAeC,SAAf,eAEAP,SAAS,CAAC,UAAM,CACdC,KAAK,CAACO,GAAN,CAAU,eAAV,EAA2BC,IAA3B,CAAgC,SAACC,GAAD,CAAS,CACvC,GAAIA,GAAG,CAACN,IAAJ,EAAY,KAAhB,CAAuB,CACrBC,OAAO,CAACK,GAAG,CAACN,IAAL,CAAP,CACD,CAFD,IAEOO,QAAO,CAACC,GAAR,CAAY,yBAAZ,EACR,CAJD,EAKD,CANQ,CAMN,CAACN,MAAD,CANM,CAAT,CAQA,QAASO,aAAT,CAAsBC,aAAtB,CAAqC,CACnCb,KAAK,CACFO,GADH,oDACmDM,aADnD,GAEGL,IAFH,CAEQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACN,IAAJ,EAAY,IAAhB,CAAsB,CACpB,GAAIE,MAAM,EAAI,CAAd,CAAiBC,SAAS,CAAC,CAAD,CAAT,CAAjB,IACKA,UAAS,CAAC,CAAD,CAAT,CACN,CACF,CAPH,EAQD,CACD,mBACE,YAAK,SAAS,CAAEL,MAAM,CAACa,IAAvB,UACGX,IAAI,eACH,qBACGA,IAAI,CAACY,GAAL,CAAS,SAACC,CAAD,qBACR,cAAmB,SAAS,CAAEf,MAAM,CAACgB,KAArC,uBACE,sCACE,mCACE,+BADF,cAEE,oBAAKD,CAAC,CAACE,IAAP,EAFF,GADF,cAKE,mCACE,iCADF,cAEE,oBAAKF,CAAC,CAACG,MAAP,EAFF,GALF,cASE,mCACE,kCADF,cAEE,oBAAKH,CAAC,CAACI,SAAP,EAFF,GATF,cAaE,mCACE,0CADF,cAEE,oBAAKJ,CAAC,CAACK,UAAP,EAFF,GAbF,cAiBE,iCACE,WAAI,OAAO,CAAE,CAAb,uBACE,eACE,OAAO,CAAE,kBAAM,CACbT,YAAY,CAACI,CAAC,CAACM,GAAH,CAAZ,CACD,CAHH,qBADF,EADF,EAjBF,GADF,EAAYN,CAAC,CAACM,GAAd,CADQ,EAAT,CADH,EAFJ,EADF,CAyCD,CAED,cAAepB,oBAAf"},"metadata":{},"sourceType":"module"}